<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord ATPerf ‚Äì Analyse STR.A.P.¬Æ</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        /* Same styling as before ‚Ä¶ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f7f9fc;
        }

        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #375a7f 0%, #4c84c7 100%);
            color: white;
            padding: 25px;
            border-radius: 10px 10px 0 0;
            margin: -20px -20px 20px -20px;
        }

        .header h1 {
            margin: 0;
            font-size: 1.8em;
        }

        .header p {
            margin: 4px 0 0;
            font-size: 0.9em;
        }

        .kpi-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: #f8fafd;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            text-align: center;
            border-left: 4px solid #375a7f;
        }

        .kpi-value {
            font-size: 2.2em;
            font-weight: bold;
            margin: 10px 0;
            color: #375a7f;
        }

        .kpi-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chart-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart {
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .action-plan {
            background: #f1f8ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .action-item {
            background: white;
            margin: 12px 0;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid;
        }

        .critical {
            border-left-color: #e74c3c;
        }

        .high {
            border-left-color: #f39c12;
        }

        .medium {
            border-left-color: #f1c40f;
        }

        .cta {
            background: #375a7f;
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 30px;
        }

        .cta h4 {
            margin-top: 0;
        }

        .cta a {
            color: #f1c40f;
            text-decoration: none;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="dashboard">
        <div class="header">
            <h1>üè≠ Tableau de bord ATPerf ‚Äì Goulots d‚Äô√©tranglement</h1>
            <p>Analyse STR.A.P.¬Æ ‚Äì LAC¬†TAF¬†N1 ‚Äì Donn√©es¬†: Nov¬†2021 √† Jan¬†2025</p>
        </div>

        <div class="kpi-cards">
            <div class="kpi-card">
                <div class="kpi-label">Total tickets analys√©s</div>
                <div class="kpi-value">3‚ÄØ499</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Taux de rebut</div>
                <div class="kpi-value" style="color:#e74c3c;">57,8¬†%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Tickets rebut</div>
                <div class="kpi-value">2‚ÄØ023</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">Gain potentiel annuel</div>
                <div class="kpi-value" style="color:#27ae60;">1,2‚ÄØM‚Ç¨</div>
            </div>
        </div>

        <!-- Existing charts for equipment, causes, evolution, and OEE -->
        <div class="chart-container">
            <div class="chart">
                <div id="equipements-chart"></div>
            </div>
            <div class="chart">
                <div id="causes-chart"></div>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart">
                <div id="evolution-chart"></div>
            </div>
            <div class="chart">
                <div id="oee-chart"></div>
            </div>
        </div>

        <!-- New charts for problems vs causes and recurrence probability -->
        <div class="chart-container">
            <div class="chart">
                <div id="problems-causes-chart"></div>
            </div>
            <div class="chart">
                <div id="probability-chart"></div>
            </div>
        </div>

        <div class="action-plan">
            <h3>‚ö° Plan d'action rapide STR.A.P.¬Æ</h3>
            <div class="action-item critical">
                <h4>Action¬†#1¬†: Optimisation Morgan (2¬†semaines)</h4>
                <p><strong>Objectif¬†:</strong> r√©duire de 40¬†% les blocages et rebuts</p>
                <p><strong>Actions¬†:</strong> contr√¥les de serrage, nettoyage r√©gulier des frisons, calibration des
                    capteurs</p>
            </div>
            <div class="action-item high">
                <h4>Action¬†#2¬†: Param√©trage des cages (3¬†semaines)</h4>
                <p><strong>Objectif¬†:</strong> -30¬†% de d√©fauts dimensionnels</p>
                <p><strong>Actions¬†:</strong> audit des r√©glages, cr√©ation d‚Äôune base de param√®tres optimaux, formation
                    pr√©ventive</p>
            </div>
            <div class="action-item medium">
                <h4>Action¬†#3¬†: Contr√¥le des Bloc √† fil (1¬†mois)</h4>
                <p><strong>Objectif¬†:</strong> -25¬†% de variations thermiques</p>
                <p><strong>Actions¬†:</strong> calibration des instruments, proc√©dures de contr√¥le, mise en place
                    d‚Äôalertes de d√©rive</p>
            </div>
        </div>
        <div class="action-plan">
            <h3>üìä Indicateurs de suivi STR.A.P.¬Æ</h3>

            <div class="action-item">
                <h4>Maintenance</h4>
                <p><strong>KPIs :</strong> MTBF, MTTR, % interventions pr√©ventives, disponibilit√© machine.</p>
                <p><strong>Objectif :</strong> R√©duire les pannes r√©currentes et les rebuts post-maintenance.</p>
            </div>

            <div class="action-item">
                <h4>Usure √âquipement</h4>
                <p><strong>KPIs :</strong> Taux d‚Äôusure pi√®ces critiques, % remplacements planifi√©s, taux de d√©faillance
                    non d√©tect√©e.</p>
                <p><strong>Objectif :</strong> Anticiper l‚Äôusure et √©viter les rebuts dus √† d√©rive m√©canique.</p>
            </div>

            <div class="action-item">
                <h4>Qualit√© Mati√®re</h4>
                <p><strong>KPIs :</strong> % lots non conformes, % rebuts mati√®re, conformit√© fournisseurs.</p>
                <p><strong>Objectif :</strong> Garantir la conformit√© mati√®re avant utilisation.</p>
            </div>

            <div class="action-item">
                <h4>R√©glage / Param√©trage</h4>
                <p><strong>KPIs :</strong> Ajustements par s√©rie, % rebuts apr√®s r√©glage, taux de conformit√© du premier
                    produit.</p>
                <p><strong>Objectif :</strong> Stabiliser les r√©glages et limiter les d√©rives.</p>
            </div>

            <div class="action-item">
                <h4>Nettoyage</h4>
                <p><strong>KPIs :</strong> % conformit√© post-nettoyage, fr√©quence r√©elle vs planifi√©e, rebuts
                    post-nettoyage.</p>
                <p><strong>Objectif :</strong> Pr√©venir les contaminations et d√©rives.</p>
            </div>

            <div class="action-item">
                <h4>Formation</h4>
                <p><strong>KPIs :</strong> % op√©rateurs form√©s, % rebuts li√©s √† erreur humaine, respect des proc√©dures.
                </p>
                <p><strong>Objectif :</strong> Renforcer la comp√©tence et la rigueur d‚Äôex√©cution.</p>
            </div>

            <div class="action-item critical">
                <h4>üéØ Focus Rebut</h4>
                <p><strong>Principales causes :</strong> capteurs mal calibr√©s, r√©glages instables, mati√®re non
                    conforme, nettoyage insuffisant.</p>
                <p><strong>KPIs :</strong> Taux global de rebut, taux de r√©currence, d√©lai de d√©tection, % r√©duction
                    apr√®s action.</p>
                <p><strong>Objectif :</strong> Identifier et √©liminer les causes racines de non-qualit√©.</p>
            </div>
        </div>


        <div class="cta">
            <h4>üìû Pr√™t √† transformer vos r√©sultats¬†?</h4>
            <p>Pour une analyse d√©taill√©e et pour int√©grer cette d√©marche dans votre syst√®me de management,
                contactez‚Äënous d√®s maintenant¬†:</p>
            <p><strong>Rachid¬†Rabhi</strong><br>Managing¬†Partner¬†‚Äî¬†ATPerf¬†Conseil</p>
            <p>üìß <a href="mailto:r.rabhi@atperf.com">r.rabhi@atperf.com</a> | üìû <a
                    href="tel:+33661409529">+33¬†6¬†61¬†40¬†95¬†29</a></p>
        </div>
    </div>

    <script>
        // Donn√©es pour les √©quipements (inchang√©es)
        const equipementsData = [{
            x: ['MORGAN', 'BLOC A FIL', 'DUO', 'CAGE', 'D0', 'CR6', 'CR1', 'CR4', 'CR0'],
            y: [753, 561, 378, 320, 181, 155, 152, 147, 138],
            type: 'bar',
            marker: {
                color: ['#e74c3c', '#f39c12', '#f1c40f', '#27ae60', '#2980b9',
                    '#9b59b6', '#e67e22', '#d35400', '#16a085', '#95a5a6']
            }
        }];

        // Donn√©es pour la r√©partition des causes (inchang√©es)
        const causesData = [{
            labels: ['Maintenance', 'Param√©trage/R√©glage', 'Qualit√© mati√®re', 'Usure √©quipement', 'Formation'],
            values: [397, 377, 174, 66, 48],
            type: 'pie',
            hole: 0.4,
            marker: {
                colors: ['#e74c3c', '#f39c12', '#27ae60', '#3498db', '#9b59b6']
            }
        }];

        // Donn√©es d'√©volution semestrielle (inchang√©es)
        const evolutionData = [{
            x: ['2021‚Äë11', '2022‚Äë05', '2022‚Äë11', '2023‚Äë05', '2023‚Äë11', '2024‚Äë05', '2024‚Äë11'],
            y: [6, 35, 348, 1033, 903, 556, 594],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Tickets/6¬†mois',
            line: { color: '#e74c3c', width: 3 }
        }];

        // Indicateur OEE (approximation)
        const oeeData = [{
            type: 'indicator',
            mode: 'gauge+number+delta',
            value: 42.2,
            delta: { reference: 95 },
            gauge: {
                axis: { range: [0, 100] },
                steps: [
                    { range: [0, 60], color: '#fce1e4' },
                    { range: [60, 80], color: '#f9e79f' },
                    { range: [80, 100], color: '#d4efdf' }
                ],
                threshold: {
                    line: { color: '#e74c3c', width: 4 },
                    thickness: 0.75,
                    value: 85
                }
            }
        }];

        // üìä Donn√©es pour le graphique "Top 5 probl√®mes vs causes"
        // Chaque objet repr√©sente une cause et contient les occurrences pour chaque probl√®me
        const problems = ['Rebut', 'Calibration', 'Outllage', 'Elevation', 'Montage-galet'];
        const problemsCausesData = [
            {
                name: 'Maintenance',
                x: problems,
                y: [238, 95, 20, 20, 111],
                type: 'bar'
            },
            {
                name: 'Param√©trage/R√©glage',
                x: problems,
                y: [369, 11, 26, 2, 32],
                type: 'bar'
            },
            {
                name: 'Qualit√© mati√®re',
                x: problems,
                y: [110, 41, 1, 0, 13],
                type: 'bar'
            },
            {
                name: 'Usure √©quipement',
                x: problems,
                y: [37, 0, 96, 0, 23],
                type: 'bar'
            },
            {
                name: 'Formation',
                x: problems,
                y: [43, 35, 95, 89, 38],
                type: 'bar'
            }
        ];

        // üìà Donn√©es pour la probabilit√© d'occurrence des probl√®mes dans les prochains mois
        const probabilityData = [{
            x: problems,
            y: [86.7, 25.0, 19.5, 15.0, 30.3],
            type: 'bar',
            marker: {
                color: ['#e74c3c', '#f39c12', '#f1c40f', '#27ae60', '#2980b9']
            }
        }];

        // Configuration et rendu des graphiques
        Plotly.newPlot('equipements-chart', equipementsData, {
            title: '√âquipements les plus impact√©s (N1)',
            xaxis: { title: '√âquipements / Zones' },
            yaxis: { title: 'Occurrences' }
        });

        Plotly.newPlot('causes-chart', causesData, {
            title: 'R√©partition des familles de causes (N1)'
        });

        Plotly.newPlot('evolution-chart', evolutionData, {
            title: '√âvolution semestrielle des tickets',
            xaxis: { title: 'P√©riode' },
            yaxis: { title: 'Nombre de tickets' }
        });

        Plotly.newPlot('oee-chart', oeeData, {
            title: 'OEE actuel vs cible (95¬†%)'
        });

        // Nouveau graphique : top 5 probl√®mes et leurs causes
        Plotly.newPlot('problems-causes-chart', problemsCausesData, {
            title: 'Top¬†probl√®mes et principales causes (N1)',
            barmode: 'stack',
            xaxis: { title: 'Probl√®mes' },
            yaxis: { title: 'Occurrences' }
        });

        // Nouveau graphique : probabilit√© de r√©currence
        Plotly.newPlot('probability-chart', probabilityData, {
            title: 'Probabilit√© de r√©currence des probl√®mes (prochain mois)',
            xaxis: { title: 'Probl√®mes' },
            yaxis: { title: 'Probabilit√© (%)' },
            yaxis_range: [0, 100]
        });
    </script>
</body>

</html>
